{% extends 'base.html' %}

{% load url_replace_tags %}

{% block title %}
    Main page
{% endblock %}


{% block content %}
    {% include 'includes/header.html' %}

    {% include 'includes/finaly_navbar.html' %}

    <a class="text-success" href="?ordering=alf">sort_by_alphabet</a>
    <a class="text-danger" href="?ordering=-alf">sort_by_-alphabet</a>

    {% for company in companys %}
        <div class="list-group">
            <a href="{% url 'info' pk=company.pk %}"
               style="background-color: #F5F5F5; font-size: 24px;"
               class="list-group-item shadow m-1 text-center text-uppercase">
                <p>&#171; {{ company.name_of_company }} &#187;</p>
                {% if company.cnt > 1 %}
                    <p style="font-size: 12px; color: #2e4053;">The company has <strong><em>{{ company.cnt }}</em></strong> projects </p>
                {% elif company.cnt == 1 %}
                    <p style="font-size: 12px; color: #2e4053;">The company has {{ company.cnt }} project </p>
                {% else %}
                    <p style="font-size: 12px; color: #2e4053;">The company has no projects yet </p>
                {% endif %}
            </a>
        </div>
    {% endfor %}

    {% if is_paginated %}
        <div class="pagination justify-content-center">
            <span class="page-links">
                {% if page_obj.has_previous %}
                    <a href="?{% url_replace request 'page' page_obj.previous_page_number %}">Preview</a>
                {% endif %}
                <span class="page-current">
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                </span>
                {% if page_obj.has_next %}
                    <a href="?{% url_replace request 'page' page_obj.next_page_number %}">Next</a>
                {% endif %}
            </span>
        </div>
    {% endif %}
{% endblock %}